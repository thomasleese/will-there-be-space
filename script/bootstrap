#!/bin/sh

# script/bootstrap: Resolve all dependencies that the application requires to
#                   run.

set -e

cd "$(dirname "$0")/.."

# Brew
brew bundle check 2>&1 >/dev/null || {
    echo "==> Installing Homebrew dependenciesâ€¦"
    brew bundle
}

# Python
if [ ! -d "venv" ]; then
    pyvenv venv
fi

source venv/bin/activate
pip install --quiet -r requirements.txt
pip install --quiet -e .
deactivate

# Node
npm install
